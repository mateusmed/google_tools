
<script>

    $(function() {
        google.script.run.withSuccessHandler(renderBuyProductPage).buyProductHtmlBuilded(productId);
    });

    function renderBuyProductPage(html) {
    
       var productPage = $('#buyProduct');
       productPage.html(html);

       document.getElementById("save").addEventListener("click", save);
    }


    function getDataForm(){

        let id = $("#id").val();
        let status = $("#status").val();
        let qtd = $("#qtd").val();
        let value = $("#value").val();

        return {
            "id": id,
            "status": status,
            "qtd": qtd,
            "value": value
        };
    }


     function save(){

        cleanMessageBox()

        let data = getDataForm();
        alert(JSON.stringify(data));

        //TODO  deixar claro que ao criar um novo produto o valor do produto Ã© imutavel

        google.script.run.withSuccessHandler(createMessageResponse).saveStockProduct(data);

     }

    
</script>


